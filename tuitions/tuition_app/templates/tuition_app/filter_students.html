<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter and Display Students</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(to right, #ffcc33, #ff6600);
            text-align: center;
            padding: 20px;
        }

        .container {
            background-color: white;
            padding: 50px;
            width: 90%;
            margin: 80px auto 20px; /* Added margin-top to shift container down */
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .logo {
            width: 95px;
            height: auto;
            display: block;
            margin: 0 auto 10px;
        }

        h1 {
            margin-bottom: 50px;
            color: #ff6600;
        }

        .filters {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .filters label {
            font-weight: bold;
        }

        .filters select {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            min-width: 180px;
        }

        .buttons {
            margin: 10px 0;
        }

        button {
            padding: 10px 15px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            background: #ff6600;
            color: white;
            cursor: pointer;
        }

        button:hover {
            background: #ffac74;
        }

        .logout-button {
            position: fixed;
            top: 18px;
            right: 70px;
            border: 1px solid black;
            padding: 6px 10px;
            font-size: 13px;
            cursor: pointer;
            border-radius: 0%;
            width: 100px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        /* Table Wrapper for Scrollability */
        .table-wrapper {
            max-height: 400px; /* Fixed height for the table */
            overflow-y: auto; /* Make the table scrollable */
            margin-top: 20px;
        }

        .student-count {
        margin: 15px 0;
        padding: 10px 15px;
        background-color: #f5f5f5;
        border-radius: 5px;
        font-size: 16px;
        font-weight: 500;
        display: flex;
        justify-content: center;
    }

    .student-count p {
        margin: 0;
        }

    .student-count span {
        font-weight: bold;
        margin-left: 5px;
        color: #2c3e50;
    }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: #ff6600;
            color: white;
            position: sticky;
            top: 0; /* Make the header sticky */
        }

        th, td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background: #373636;
            color: white;
        }

        .dark-mode .container {
            background: #D2D1D1;
            color: black;
            padding: 50px;
            width: 90%;
            margin: 80px auto 20px; /* Added margin-top to shift container down */
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .dark-mode select,
        .dark-mode input {
            background-color: #F0EDED;
            color: black;
            border: 1px solid #777;
        }

        .dark-mode button {
            background: white;
            color: black;
        }

        .dark-mode button:hover {
            background: rgb(137, 133, 133);
        }

        .dark-mode .table-wrapper{
            max-height: 400px; /* Fixed height for the table */
            overflow-y: auto; /* Make the table scrollable */
            margin-top: 20px;
        }
    
        .dark-mode table {
            width: 100%;
            border-collapse: collapse;
        }

        .dark-mode thead {
            background: #ff6600;
            color: white;
            position: sticky;
            top: 0;
        }

        .dark-mode th, .dark-mode td {
            padding: 10px;
            border: 1px solid #040404;
            text-align: center;
        }

        /* Toggle Button Styling */
        .dark-mode-toggle {
            position: fixed;
            top: 15px;
            right: 15px;
            background: rgb(12, 12, 12);
            border: none;
            padding: 6px 10px;
            font-size: 13px;
            cursor: pointer;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .dark-mode .dark-mode-toggle {
            background: #ff6600;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="data:image/png;base64,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" alt="Logo" class="logo">
        <h1>FILTER AND DISPLAY STUDENTS</h1>

        <div class="filters">
            <form method="GET" action="{% url 'tuition_app:filter_students' %}">
                <label for="standard">Standard:</label>
                <select id="standard" name="standard">
                    <option value="">All</option>
                    <option value="8">8th</option>
                    <option value="9">9th</option>
                    <option value="10">10th</option>
                    <option value="12">12th</option>
                </select>

                <label for="board">Board:</label>
                <select id="board" name="board">
                    <option value="">All</option>
                    <option value="CBSE">CBSE</option>
                    <option value="SSC">SSC</option>
                    <option value="HSC">HSC</option>
                </select>

                <label for="school">School:</label>
                <select id="school" name="school">
                    <option value="">All</option>
                    <option value="Saint Michael School">Saint Michael School</option>
                    <option value="Orchid School">Orchid School</option>
                    <option value="Sai Angel School">Sai Angel School</option>
                    <option value="Icon Public School">Icon Public School</option>
                    <option value="Takshila School">Takshila School</option>
                    <option value="Podar School">Podar School</option>
                    <option value="Auxilium Convent School">Auxilium Convent School</option>
                    <option value="Sacred Heart Convent School">Sacred Heart Convent School</option>
                    <option value="Ashokbhau Firodia School">Ashokbhau Firodia School</option>
                    <option value="Athare Patil School">Athare Patil School</option>
                    <option value="NA">Not Applicable</option>
                </select>

                <label for="branch">Branch:</label>
                <select id="branch" name="branch">
                    <option value="">All</option>
                    <option value="Gulmohar">Gulmohar</option>
                    <option value="Market Yard">Market Yard</option>
                </select>
            </form>
        </div>

        <!-- Move Apply Filters and Reset Filters buttons here -->
        <div class="filter-buttons">
            <button type="button" onclick="applyFilters()">Apply Filters</button>
            <button type="button" onclick="resetFilters()">Reset Filters</button>
        </div>

        <div class="student-count">
            <p>Total Students: <span id="totalStudents">{{ total_students }}</span></p>
        </div>

        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Phone number</th>
                        <th>Address</th>
                        <th>Branch</th>
                        <th>Standard</th>
                        <th>Board</th>
                        <th>Subject</th>
                        <th>School</th>
                        <th>Fees</th>
                        <th>Payment Mode</th>
                        <th>Receipt</th>
                    </tr>
                </thead>
                <tbody>
                    {% for student in students %}
                    <tr>
                        <td>{{ student.name }}</td>
                        <td>{{ student.phone }}</td>
                        <td>{{ student.address }}</td>
                        <td>{{ student.branch }}</td>
                        <td>{{ student.standard }}</td>
                        <td>{{ student.board }}</td>
                        <td>{{ student.subject }}</td>
                        <td>{{ student.school|default:"NA" }}</td>
                        <td>{{ student.fees }}</td>
                        <td>{{ student.payment_mode }}</td>
                        <td>
                            {% if student.payment_proof %}
                                <a href="{{ student.payment_proof.url }}" target="_blank">View Receipt</a>
                            {% else %}
                                N/A
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="11">No students found.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- Move Logout button next to Dark Mode toggle -->
        <div class="button-group">
            <button id="darkModeToggle" class="dark-mode-toggle">🌙</button>
            <form method="post" action="{% url 'tuition_app:logout' %}" style="display: inline;">
                {% csrf_token %}
                <button type="submit" class="logout-button">Logout</button>
            </form>
        </div>
    </div>

    <script>
        function applyFilters() {
            const standard = document.getElementById("standard").value;
            const board = document.getElementById("board").value;
            const school = document.getElementById("school").value;
            const branch = document.getElementById("branch").value;
    
            const url = `/app/filter_students/?standard=${standard}&board=${board}&school=${school}&branch=${branch}`;
    
            fetch(url,{
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    displayStudents(data.students);
                })
                .catch(error => {
                    console.error("Error fetching students:", error);
                    alert("An error occurred while fetching students. Please try again.");
                });
        }
    
        function displayStudents(students) {
            const tableBody = document.querySelector("table tbody");
            tableBody.innerHTML = "";

            if (students.length === 0) {
                tableBody.innerHTML = "<tr><td colspan='11'>No students found</td></tr>";
                return;
            }

            students.forEach(student => {
                const row = `<tr>
                <td>${student.name}</td>
                <td>${student.phone}</td>
                <td>${student.address}</td>
                <td>${student.branch}</td>
                <td>${student.standard}</td>
                <td>${student.board}</td>
                <td>${student.subject}</td>
                <td>${student.school || 'NA'}</td>
                <td>${student.fees}</td>
                <td>${student.payment_mode}</td>
                <td>${student.payment_proof ? `<a href="${student.payment_proof}" target="_blank">View Receipt</a>` : 'N/A'}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });

            document.getElementById("totalStudents").textContent = students.length;
        }
    
        function resetFilters() {
            document.getElementById("standard").selectedIndex = 0;
            document.getElementById("board").selectedIndex = 0;
            document.getElementById("school").selectedIndex = 0;
            document.getElementById("branch").selectedIndex = 0;
            applyFilters();
        }
    
        // Remove the event listener for the Apply Filters button since it's now handled directly by onclick
        document.addEventListener("DOMContentLoaded", function () {
            const toggleButton = document.getElementById("darkModeToggle");
            const body = document.body;
    
            if (localStorage.getItem("dark-mode") === "enabled") {
                body.classList.add("dark-mode");
                toggleButton.textContent = "☀️";
            }
    
            toggleButton.addEventListener("click", function () {
                body.classList.toggle("dark-mode");
    
                if (body.classList.contains("dark-mode")) {
                    localStorage.setItem("dark-mode", "enabled");
                    toggleButton.textContent = "☀️";
                } else {
                    localStorage.setItem("dark-mode", "disabled");
                    toggleButton.textContent = "🌙";
                }
            });
        });
    </script>
</body>
</html>